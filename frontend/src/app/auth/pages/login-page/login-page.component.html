<div class="login-card">
  <!-- Efecto glassmorphism sutil -->
  <div class="login-card-glass"></div>
  <!-- Control de tema simple -->
  <div class="theme-toggle-container">
    <div class="tooltip tooltip-left" data-tip="Cambiar tema">
      <button
        class="btn btn-ghost btn-sm btn-circle theme-toggle-btn"
        style="background-color: #64748b !important; border: 1px solid #64748b !important; color: #ffffff !important;"
        (click)="toggleTheme()">
        <lucide-icon
          [img]="themeService.isDarkMode() ? sunIcon : moonIcon"
          class="w-5 h-5"
          style="color: #ffffff !important; stroke: #ffffff !important;">
        </lucide-icon>
      </button>
    </div>
  </div>

  <div class="login-card-body">
      <!-- Solo Logo -->
      <div class="login-header">
        <div class="login-logo-container">
          <img 
            src="/logo.png" 
            alt="Logo CECYTEC" 
            class="login-logo"
            loading="eager"
          />
        </div>
      </div>

      <form (ngSubmit)="onLogin()" class="login-form">
        <!-- Campo Email -->
        <div class="form-field">
          <label class="form-label">
            <span class="form-label-text" 
                  [style.color]="themeService.isDarkMode() ? '#f8f8f2 !important' : '#374151 !important'">
              <lucide-icon [img]="mailIcon" class="form-label-icon" 
                          style="color: #F15A22 !important;"></lucide-icon>
              Correo electrónico
            </span>
          </label>
          <input
            type="email"
            [(ngModel)]="email"
            name="email"
            required
            placeholder="usuario@ejemplo.com"
            class="form-input"
            style="color: #4b5563 !important;"
            [class.error]="error"
            [disabled]="isLoading"
          />
        </div>

        <!-- Campo Password -->
        <div class="form-field">
          <label class="form-label">
            <span class="form-label-text" 
                  [style.color]="themeService.isDarkMode() ? '#f8f8f2 !important' : '#374151 !important'">
              <lucide-icon [img]="lockIcon" class="form-label-icon" 
                          style="color: #F15A22 !important;"></lucide-icon>
              Contraseña
            </span>
          </label>
          <div class="password-field">
            <input
              [type]="showPassword ? 'text' : 'password'"
              [(ngModel)]="password"
              name="password"
              required
              placeholder="••••••••"
              class="password-input"
              style="color: #4b5563 !important;"
              [class.error]="error"
              [disabled]="isLoading"
            />
            <button
              type="button"
              (click)="togglePasswordVisibility()"
              class="btn btn-ghost btn-sm btn-circle password-toggle-btn"
              [disabled]="isLoading"
              [style.background-color]="themeService.isDarkMode() ? '#10b981 !important' : '#10b981 !important'"
              [style.border]="themeService.isDarkMode() ? '1px solid #10b981 !important' : '1px solid #10b981 !important'"
              [style.color]="'#ffffff !important'"
            >
              <lucide-icon
                [img]="showPassword ? eyeOffIcon : eyeIcon"
                class="w-5 h-5"
                style="color: #ffffff !important; stroke: #ffffff !important;"
              ></lucide-icon>
            </button>
          </div>
        </div>

        <!-- Botón de Login -->
        <div class="login-submit-container">
          <button
            type="submit"
            class="login-submit-btn"
            [disabled]="isLoading || !email || !password"
          >
            <span *ngIf="!isLoading" class="login-submit-content">
              <lucide-icon [img]="loginIcon" class="login-submit-icon"></lucide-icon>
              Iniciar sesión
            </span>
            <span *ngIf="isLoading" class="login-submit-content">
              <span class="login-loading-spinner"></span>
              Iniciando sesión...
            </span>
          </button>
        </div>

        <!-- Error message -->
        <div *ngIf="error" class="error-alert">
          <svg xmlns="http://www.w3.org/2000/svg" class="error-icon" fill="none" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span class="error-text">{{ error }}</span>
        </div>
      </form>

      <!-- Footer opcional -->
      <div class="login-footer">
        <p class="footer-text">&copy; 2024 SICAAD. Todos los derechos reservados.</p>
      </div>
    </div>
</div>
